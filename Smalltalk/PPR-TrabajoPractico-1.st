Object subclass: #Archivo	instanceVariableNames: 'tramites'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!Archivo methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!tramites	^ tramites! !!Archivo methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!tramites: anObject	tramites := anObject! !!Archivo methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 14:25'!buscarTramite: unnewNroTramite	"Buscador de partido"	^tramites detect: 				[ :tramite | tramite nroTramite = unnewNroTramite ].! !!Archivo methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 14:45'!archivarTramite: unTramite	tramites add: unTramite.! !!Archivo methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 13:07'!fechaDesde: fechaDesde fechaHasta: fechaHasta	"Filtracion de fechas segun condiciones inferiores y exteriores"	^ tramites select: [ :tramite | tramite fecha between: fechaDesde and: fechaHasta]! !!Archivo methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 13:12'!listrarRechazos	"Listar rechazos"	^ tramites select: [ :tramite | (tramite estado = 'RECHAZADO') ]! !!Archivo methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 13:16'!montosegunFechaDesde: fechaDesde fechaHata: fechaHasta	| montoTotal |		tramites do: [ :tramite | montoTotal := montoTotal +tramite montoAcumulado].	^montoTotal! !!Archivo methodsFor: 'initialization' stamp: 'AHTH 9/20/2021 14:37'!initialize	tramites := Bag new.! !Object subclass: #BandejaCarga	instanceVariableNames: 'planillas archivo'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!BandejaCarga methodsFor: 'initialization' stamp: 'AHTH 9/20/2021 12:59'!setArchivo: unArchivoTramite	| archivo1 |			^archivo1 ! !!BandejaCarga methodsFor: 'initialization' stamp: 'AHNA 9/19/2021 20:44'!initialize	planillas := SortedCollection sortBlock: [ :x :y | x fecha > y fecha ].	archivo := Bag new! !!BandejaCarga methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!planillas	^ planillas! !!BandejaCarga methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo: anObject	archivo := anObject! !!BandejaCarga methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!planillas: anObject	planillas := anObject! !!BandejaCarga methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo	^ archivo! !!BandejaCarga methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:57'!getPartidoCargar	| partido |	"Obtener el partido a cargar"	partido := nil.	planillas notEmpty		ifTrue: [ partido := planillas last ].	^ partido! !!BandejaCarga methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:55'!cantidadPlanillas	"Contador de planillas"	^planillas count: [ :planilla | planilla estado = 'PENDIENTE' ].	! !!BandejaCarga methodsFor: 'as yet unclassified' stamp: 'AHNA 9/20/2021 10:41'!encolar: planillasRecibidas	planillas addAll: planillasRecibidas! !!BandejaCarga methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:56'!procesarPartido: unPartido	| partido |	"Procesar el siguiente partido por numero de partido"	archivo := Archivo new.	partido := self buscarPartidoPorNumero: unPartido nroPartido.	partido estado: 'PROCESADO'.	archivo archivarTramite: partido.	planillas remove: partido! !!BandejaCarga methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 13:00'!buscarPartidoPorNumero: unPartidoPorNumero	"Buscador de partido"	^planillas detect: 				[ :planilla | 					planilla nroPartido = unPartidoPorNumero ]				ifNone: [ nil ].! !Object subclass: #BandejaEntrada	instanceVariableNames: 'numeroSiguiente bandejaCarga bandejaGestion archivo contadorTramites'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!BandejaEntrada methodsFor: 'initialization' stamp: 'AHNA 9/19/2021 21:51'!initialize	bandejaCarga := OrderedCollection new.	numeroSiguiente := 0.	bandejaGestion := OrderedCollection new.	archivo := Bag new.	contadorTramites := 0! !!BandejaEntrada methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 14:37'!aceptar: unTramite	"Contador para el proximo tramite"	unTramite setNumero: numeroSiguiente.	numeroSiguiente := numeroSiguiente + 1.	unTramite estado: 'PENDIENTE'.	"Validacion y derivacion de bandejas"	unTramite validar		ifTrue: [ contadorTramites := contadorTramites + 1.				(unTramite class asString = 'Transferencia')				ifTrue: [  bandejaGestion add: unTramite. ].				(unTramite class asString = 'PlanillaPartido')				ifTrue: [ bandejaCarga add: unTramite.] ]		ifFalse: [ unTramite estado: 'RECHAZADO'.					archivo add: unTramite ].! !!BandejaEntrada methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:55'!tramitesAceptados"Contador de tramites aceptados"	^contadorTramites! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo: anObject	archivo := anObject! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!contadorTramites: anObject	contadorTramites := anObject! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo	^ archivo! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!contadorTramites	^ contadorTramites! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/19/2021 16:16'!bandejaGestion	^ bandejaGestion! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/19/2021 16:20'!bandejaCarga: anObject	bandejaCarga := anObject.! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/19/2021 13:50'!numeroSiguiente	^ numeroSiguiente! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/19/2021 15:18'!numeroSiguiente: anObject	numeroSiguiente:= anObject.! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!bandejaCarga	^ bandejaCarga! !!BandejaEntrada methodsFor: 'accessing' stamp: 'AHNA 9/19/2021 16:20'!bandejaGestion: anObject	bandejaGestion := anObject! !Object subclass: #BandejaGestion	instanceVariableNames: 'transferencias montoAcumulado archivo partido'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo	^ archivo! !!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!transferencias	^ transferencias! !!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!montoAcumulado: anObject	montoAcumulado := anObject! !!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!archivo: anObject	archivo := anObject! !!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!montoAcumulado	^ montoAcumulado! !!BandejaGestion methodsFor: 'accessing' stamp: 'AHNA 9/13/2021 21:35'!transferencias: anObject	transferencias := anObject! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:54'!rechazarTransferencia: unaTransferencia observacion: unaObservacion	"Rechazar una transferencia, actualizar el estado y observacion"	| transferencia |	archivo := Archivo new.	transferencia := self buscarTransferenciaPorNumero: unaTransferencia .	transferencia estado: 'RECHAZADO'; observaciones: unaObservacion.	archivo archivarTramite: transferencia.	transferencias remove: transferencia! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHNA 9/20/2021 11:25'!buscarTransferenciaPorNumero: nroTramiteNuevo	^transferencias detect: 				[ :transf | 					(transf nroTramite = nroTramiteNuevo) ]				ifNone: [ nil ]! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 13:27'!encolar: unaNuevaTranfs	transferencias addAll: unaNuevaTranfs! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:54'!getTransferenciaGestionar	| tranfs |	"Obtener la transferencia siguiente a gestionar"	tranfs := nil.	transferencias notEmpty		ifTrue: [ tranfs := transferencias first ].	^ tranfs! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:53'!aprobarTransferencia: unaTransferencia monto: unMonto	| transferencia |	"Aprobacion de transferencias, actualizacion de estado y monto, archivar el tramite y remover la transferencia de la lista"	archivo := Archivo new.	transferencia := self getTransferenciaGestionar.	transferencia		estado: 'PROCESADO';		monto: unMonto.	archivo archivarTramite: transferencia.	transferencias remove: transferencia.! !!BandejaGestion methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:54'!cantidadTransferencias	"Contador de transferencias pendientes"	^transferencias count: [ :transf | transf estado = 'PENDIENTE'].! !!BandejaGestion methodsFor: 'initialization' stamp: 'AHNA 9/19/2021 19:39'!initialize	transferencias := OrderedCollection new.	montoAcumulado := 0.	archivo := Bag new! !Object subclass: #Documentacion	instanceVariableNames: 'newTipo titulo path'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!Documentacion methodsFor: 'converting' stamp: 'AHTH 9/20/2021 12:53'!asString 	"AsString de la clase Documentacion"	super asString.	^ 'Docuemntacion completa',		'[Path: ', path,']',		'[Tipo: ',newTipo,']',		'[titulo: ',titulo,']'. ! !!Documentacion methodsFor: 'initialization' stamp: 'AHNA 9/15/2021 22:21'!initialize 	newTipo := ''.	path := ''.	titulo := ''.! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!path: anObject	path := anObject! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!newTipo: anObject	newTipo := anObject! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!titulo	^ titulo! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!titulo: anObject	titulo := anObject! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!path	^ path! !!Documentacion methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 02:05'!newTipo	^ newTipo! !!Documentacion methodsFor: 'comparing' stamp: 'AHNA 9/15/2021 20:08'!= otroPath	^ path = otroPath path! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Documentacion class	instanceVariableNames: ''!!Documentacion class methodsFor: 'instance creation' stamp: 'AHNA 9/14/2021 15:24'!newTipo: unNewTipo titulo: unTitulo path: unPath	"Constructor de la clase documentacion"	"scope: class-variables  &  class-instance-variables"			| unaDocumentacion |		unaDocumentacion := Documentacion new.	unaDocumentacion newTipo: unNewTipo ; titulo: unTitulo ; path: unPath.		^unaDocumentacion.! !Object subclass: #Tramite	instanceVariableNames: 'nroTramite descripcion nombrePersona fecha estado documentaciones'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!Tramite methodsFor: 'converting' stamp: 'AHNA 9/17/2021 18:05'!asString 	| salida |	salida := '[NroTramite: ',nroTramite asString,']',	'[Descripcion: ',descripcion asString ,']',	'[NombrePersona: ',nombrePersona asString,']',	'[Fecha: ',fecha asString,']',	'[Estado: ',estado asString,']'.	documentaciones  do: [ :doc | salida := salida, String tab.									(salida := salida ,doc newTipo asString).									(salida := salida ,doc titulo asString).									(salida := salida ,doc path asString).									].	^ salida! !!Tramite methodsFor: 'as yet unclassified' stamp: 'AHNA 9/15/2021 20:24'!adjuntarDocumentacion:  unDocumento	| cant |	cant := documentaciones count: [ :docYaAgregado | (docYaAgregado = unDocumento) ].	(cant =  0) ifTrue: [ documentaciones add: unDocumento. ^true ].	^false! !!Tramite methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:53'!validar	"Verificacion y validacion a partir de las condiciones de los Tramites"	^ descripcion ~= nil & (nombrePersona ~= nil)		& documentaciones isNotEmpty & (nroTramite ~= 0)! !!Tramite methodsFor: 'initialization' stamp: 'AHNA 9/19/2021 21:45'!initialize	super initialize.	nroTramite := 0.	descripcion := nil.	nombrePersona := nil.	fecha := Date.	estado := nil.	documentaciones := Bag new! !!Tramite methodsFor: 'initialization' stamp: 'AHNA 9/20/2021 11:09'!setNumero: unNumero	"comment stating purpose of class-side message"	"scope: class-variables  &  class-instance-variables"		^self nroTramite:unNumero! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!documentaciones	^ documentaciones! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/15/2021 20:23'!descripcion: anObject	descripcion := anObject! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/17/2021 19:27'!estado	^estado! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!documentaciones: anObject	documentaciones := anObject! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/15/2021 20:23'!descripcion	^ descripcion! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!fecha: anObject	fecha := anObject! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!fecha	^ fecha! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/15/2021 20:28'!nombrePersona	^ nombrePersona! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!nroTramite	^ nroTramite! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:16'!nroTramite: anObject	nroTramite := anObject! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/15/2021 20:28'!nombrePersona: anObject	nombrePersona := anObject! !!Tramite methodsFor: 'accessing' stamp: 'AHNA 9/17/2021 19:26'!estado: anObject	estado := anObject  ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tramite class	instanceVariableNames: ''!!Tramite class methodsFor: 'instance creation' stamp: 'AHNA 9/15/2021 18:32'!newDescripcion: unaNewDescripcion nombre:unNombre	"comment stating purpose of class-side message"	"scope: class-variables  &  class-instance-variables"					| tramite |		tramite := Tramite new.	tramite descripcion: unaNewDescripcion; nombrePersona:unNombre.		^tramite	! !Tramite subclass: #PlanillaPartido	instanceVariableNames: 'nroPartido'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!PlanillaPartido methodsFor: 'converting' stamp: 'AHTH 9/20/2021 14:14'!asString	| salida |	salida := super asString , String cr.	salida := salida , '[NroPartido:'.	salida := salida , nroPartido asString , ']',String cr.	^ salida! !!PlanillaPartido methodsFor: 'initialization' stamp: 'AHNA 9/16/2021 00:36'!initialize	super initialize.	nroPartido := nil.! !!PlanillaPartido methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!nroPartido	^ nroPartido! !!PlanillaPartido methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!nroPartido: anObject	nroPartido := anObject! !!PlanillaPartido methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:49'!validar	"Verificacion y validacion a partir de las condiciones de Planilla Partido"	| validarDoc tramite docAceptado1 docAceptado2 |	docAceptado1 := documentaciones count: [ :docYaAgregado | (docYaAgregado newTipo = 'PDF') ].	docAceptado2 := documentaciones count: [ :docYaAgregado | (docYaAgregado newTipo = 'PDF') ].	(docAceptado1 > 0)&(docAceptado2 > 0) ifTrue: [ validarDoc := 1].	tramite := super validar.	^(nroPartido > 0)&(documentaciones size >= 2)&(tramite)&(validarDoc =1)! !Tramite subclass: #Transferencia	instanceVariableNames: 'club nombreJugador dniJugador monto observaciones nroPartido'	classVariableNames: ''	package: 'PPR-TrabajoPractico-1'!!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!dniJugador: anObject	dniJugador := anObject! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!nombreJugador	^ nombreJugador! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!observaciones: anObject	observaciones := anObject! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!monto: anObject	monto := anObject! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!dniJugador	^ dniJugador! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!monto	^ monto! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!club	^ club! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!club: anObject	club := anObject! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!nombreJugador: anObject	nombreJugador := anObject! !!Transferencia methodsFor: 'accessing' stamp: 'AHNA 9/14/2021 17:18'!observaciones	^ observaciones! !!Transferencia methodsFor: 'converting' stamp: 'AHTH 9/20/2021 14:44'!asString		| salida |	salida := super asString , String cr.	salida := salida , '¨[dniJugador: '.	salida := salida , dniJugador asString , String cr.	salida := salida, '[Estado: ' ,estado asString, ']'.	salida := salida, monto asString.	salida := salida, observaciones asString.	^ salida! !!Transferencia methodsFor: 'initialization' stamp: 'AHNA 9/16/2021 00:37'!initialize	super initialize.	club := nil.	dniJugador  := nil.	monto := nil.	nombreJugador := nil.	observaciones := nil.! !!Transferencia methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 14:45'!aprobar: unMonto	! !!Transferencia methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 12:50'!validar	"Verificacion y validacion a partir de las condiciones de las Transferencias"	"scope: class-variables  &  instance-variables"		| tramite validarDoc docAceptado1 docAceptado2 |	docAceptado1 := documentaciones count: [ :docYaAgregado | (docYaAgregado newTipo = 'JPG') ].	docAceptado2 := documentaciones count: [ :docYaAgregado | (docYaAgregado newTipo = 'PDF') ].	(docAceptado1 > 0)&(docAceptado2 > 0) ifTrue: [ validarDoc := 1].	tramite := super validar.	^(tramite)&(descripcion ~= nil)&(dniJugador ~= nil)&(nombreJugador ~= nil)&(nombrePersona ~= nil)&(club ~= nil)&(documentaciones size > 1)&(validarDoc = 1)! !!Transferencia methodsFor: 'as yet unclassified' stamp: 'AHTH 9/20/2021 14:45'!rechazar: unaObservacion! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Transferencia class	instanceVariableNames: ''!!Transferencia class methodsFor: 'as yet unclassified' stamp: 'AHNA 9/14/2021 17:32'!club: unClub nombreJugador: unNombreJugador dniJugador: unDni monto:unMonto observaciones:unaObservacion	"comment stating purpose of class-side message"	"scope: class-variables  &  class-instance-variables"					| transferencia |	transferencia:= Transferencia new.	transferencia club: unClub; nombreJugador: unNombreJugador ;dniJugador: unDni ; monto:unMonto; observaciones:unaObservacion.		^transferencia! !